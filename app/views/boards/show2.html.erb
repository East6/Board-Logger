<html>
  <head>
    <title><%= @board.location %>のサーフポイント</title>
    <%= stylesheet_link_tag "boards", :media => "all" %>
  </head>

  <body>
    <div class="container-fluid"> <!--Bootstrapのグリッドシステムの対象範囲-->
    <div class="box11">
      <p>
        <%= link_to "波情報を入力する",boards_input_path(@board.id) %>
      </p>
      <h1 style="margin-left: 20px;"><%= @board.location %></h1>


      <!-- タブ・メニュー --><!--波情報，サーフポイントの雰囲気，エントリーの仕方 をタブ(bootstrap)でまとめる-->
      <ul class="nav nav-tabs">
        <li><a href="#WaveInfo" data-toggle="tab">波情報</a></li>
        <li><a href="#atmosphere" data-toggle="tab">サーフポイントの雰囲気</a></li>
        <li><a href="#HowToEntry" data-toggle="tab">エントリーの仕方</a></li>
      </ul>

      <div class="tab-content"> <!--タグ・メニューに含めるために-->
        <div class="tab-pane" id="WaveInfo"><!--タグ・メニューに含めるために-->
          <h3>波情報</h3>
          <!-- 波情報を出力するためのテーブル -->
            <table class="table table-bordered">
              <tr>
                <th>日付</th>
                <th>サイズ</th>
                <th>風向き</th>
                <th>何ショア</th>
                <th>風速</th>
                <th>ウネリのサイズ</th>
                <th>ウネリの向き</th>
                <th>ブレイクの種類</th>
                <!--<td>コメント</td> -->
              </tr>


              <% @wave.each do |wave| %>
                <tr>
                  <td rowspan="2"><%= wave.created_at %> </td>
                  <td><%= wave.status %></td>
                  <td><%= wave.windway %></td>
                  <td><%= wave.shore %></td>
                  <td><%= wave.windpower %></td>
                  <td><%= wave.swell %></td>
                  <td><%= wave.swellway %></td>
                  <td><%= wave.bottom %></td>
                </tr>
                  <tr>
                  <td colspan="7"><%= wave.comment %></td>
                </tr>
              <% end %>
            </table>

        </div><!--タグ・メニューに含めるために-->
        <div class="tab-pane" id="atmosphere"><!--タグ・メニューに含めるために-->


          <h3>サーフポイントの雰囲気</h3>
            <!-- サーフポイントの雰囲気を出力するためのテーブル -->
            <table class="table table-bordered">
            <% if @mood.present? %>　　<!-- undefin method　'mood' nil:NillClassエラーを解消するため。nilであった場合に実行しないようにする。-->
                <tr>
                  <td><%= @mood.mood%></td>
                </tr>
            <% end %>
            </table>


        </div><!--タグ・メニューに含めるために-->
        <div class="tab-pane" id="HowToEntry"><!--タグ・メニューに含めるために-->

          <h3>エントリーの仕方</h3>
          <!-- エントリを出力するためのテーブル -->
          <table class="table table-bordered">
            <% @manner.each do |manner| %>
              <tr>
                <td><%= manner.entry %></td>
                <td>
                <% @photo.where(manner_id: manner.id).each do |d| %>
                    <%= image_tag "data:image/jpeg;base64,#{d.image}",:size =>'240x220' if d.image? %>
                <% end %>
                <%= form_for Photo.new(:manner_id => manner.id), :url => photo_create_path do |f| %>
                  <%= f.file_field :image %>
                  <%= f.hidden_field :manner_id %>
                  <%= f.submit "写真を投稿する!", class: "btn btn-primary mb-2" %>
                <% end %>
                </td>
              </tr>
            <% end %>
          </table>

        </div><!--タグ・メニューに含めるために-->
      </div><!--タグ・メニューに含めるために-->



      <p>
        <%= link_to "戻る", root_path %>
      </p>
    </div>

  </div><!--Bootstrapのグリッドシステムの対象範囲-->
  </body>
</html>
